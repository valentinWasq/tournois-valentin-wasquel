{% extends 'base.html' %}
{% block title %}Val's Tournament : {{tournament.Name}}{% endblock title %}
{% block head %}
{% load static %}
<link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock head%}

{% block content %}

<script>
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
    var currentScrollPos = window.pageYOffset;
    if (prevScrollpos > currentScrollPos) {
        document.getElementById("navbar").style.top = "0";
    } else {
        document.getElementById("navbar").style.top = "-50px";
    }
    prevScrollpos = currentScrollPos;
    }
</script>

<div id="navbar">
    <a href="{% url 'tournament:home' %}">Accueil</a>
    <a href="{% url 'tournament:tournamentList' %}">Liste des tournois</a>
</div>

<nav class="crumbs">
    <ol>
        <li class="crumb"><a href="{% url 'tournament:home' %}">Accueil</a></li>
        <li class="crumb"><a href="{% url 'tournament:tournamentList' %}">Liste des tournois</a></li>
        <li class="crumb">{{tournament.Name}}</li>
    </ol>
</nav>

<div class="topbanner">
    <div style="position:relative; height:200px; background-color: transparent;"></div>
    <h1 style="position: relative; left: 5%;">Liste des tournois</h1>
</div>    
    
<div class="midbanner">
    <h1 style="left:5%; color: rgb(10, 77, 104);">{{tournament.Name}}</h1>
   

    <div class="scrollableitems" style="left:5%">
        {% if tournament.pool_set.all %}
    <ul>
        {% for pool in tournament.pool_set.all %}
        <div class="itemboxb" >
            <li class="link" style="font-weight: 750; text-transform: uppercase;"><a class="linka" href= "{% url 'tournament:poolDetail' pool.id %}">Poule {{pool.index}}</a></li>
        </div>
        <div class="separator" style="height: 10px;"></div>

        <ul>
            {% for team, score in pool.getTeamsAndScores.items %}
            <li class="link"><a class="linka" href="{% url 'tournament:teamDetail' team.id %}">{{team.Name}}</a></li>
            <div class="separator" style="height: 10px;"></div>
            {% endfor %}
        </ul>
        {% endfor %}
    </ul>
            
    {% if tournament.filterKnockoutMatches.all %}
    <ul>
        {% for match in tournament.filterKnockoutMatches.all %}
            <li><a href= "{% url 'tournament:matchDetail' match.id %}">{{match}}</a></li>
        {% endfor %}
    </ul>

    {% else %}
    {% endif %}
<a href="{% url 'tournament:generateMatchTree' tournament.id  %}">generate next round</a>

{% else %}

<p>aucune poule n'est organis√©e dans ce tournoi</p>
{% endif %}
    </div>
</div>
{% endblock content %}