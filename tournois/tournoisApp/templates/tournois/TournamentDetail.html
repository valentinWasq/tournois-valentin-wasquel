{% extends 'base.html' %}
{% block title %}Val's Tournament : {{tournament.Name}}{% endblock title %}
{% block head %}
{% load static %}
<link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock head%}

{% block content %}

<nav class="crumbs">
    <ol>
        <li class="crumb"><a href="{% url 'tournament:home' %}">Accueil</a></li>
        <li class="crumb"><a href="{% url 'tournament:tournamentList' %}">Liste des tournois</a></li>
        <li class="crumb">{{tournament.Name}}</li>
    </ol>
</nav>

    <h1>{{tournament.Name}}</h1>
    {% if tournament.pool_set.all %}
    <ul>
        {% for pool in tournament.pool_set.all %}
        <li><a href= "{% url 'tournament:poolDetail' pool.id %}">Poule {{pool.index}}</a></li>
        <ul>
            {% for team in pool.getTeams %}
            <li><a href="{% url 'tournament:teamDetail' team.id %}">{{team.Name}}</a></li>
            {% endfor %}
        </ul>
        {% endfor %}
    </ul>

        {% if tournament.filterKnockoutMatches.all %}
            <ul>
                {% for match in tournament.filterKnockoutMatches.all %}
                    <li><a href= "{% url 'tournament:matchDetail' match.id %}">{{match}}</a></li>
                {% endfor %}
            </ul>

            {% else %}
            {% endif %}
        <a href="{% url 'tournament:generateMatchTree' tournament.id  %}">generate next round</a>

    {% else %}

    <p>aucune poule n'est organis√©e dans ce tournoi</p>
    {% endif %}
{% endblock content %}