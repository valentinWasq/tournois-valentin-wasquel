

{% extends 'base.html' %}


{% block title %}Val's Tournament : {{tournament.Name}}{% endblock title %}

{% block content %}

<style>

    table {
        height:100%;
    }
   

    .tree{
        max-width: 1100px;
        margin: 0 auto;
        display:block;
        
        display: flex;
        
        flex-direction: row;
    }


    .round {
        display:block;
        float:left;
        justify-content: center;
        align-items: center;
        
        display:flex;

        width: 25%;
        
        flex-direction:row;
    }

    .matchbox {
        display:block;
        display:flex;
        justify-content: center;
        flex-direction:column;
        color: #973b3b;
        background: white;
        width: 100%;
        margin-top: 10%;
        margin-bottom: 10%;

        box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.12);
    }

    .team {
        box-sizing: border-box;
        color: #973b3b;
        font-family: Arial, sans-serif;
        background: white;
        margin-top: 5%;
        margin-bottom: 5%;
        width: 100%;
        height: 6%;
        box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.12);

    }
</style>


<h1>{{tournament.Name}}</h1>
    {% if tournament.pool_set.all %}
    <ul>
        {% for pool in tournament.pool_set.all %}
        <li><a href= "{% url 'tournament:poolDetail' pool.id %}">Poule {{pool.index}}</a></li>
        <ul>
            {% for team in pool.getTeams %}
            <li><a href="{% url 'tournament:teamDetail' team.id %}">{{team.Name}}</a></li>
            {% endfor %}
        </ul>
        {% endfor %}
    </ul>
    
    {% if rounds %}
    
        <div class="tree">
            
            {% for round in tournament.matchesSortedbyRound %}
            <div class="round">
                        <table>
                        
                        {% for match in round %}
                            <tr>
                                <td>
                                    <div class="matchbox">
                                        <div class="team">
                                            <a href= "{% url 'tournament:matchDetail' match.id %}">{{match.Team1.Name}}</a> {{match.Score1}}
                                            <br>
                                        </div>
                                        <div class="team">
                                            <a href= "{% url 'tournament:matchDetail' match.id %}">{{match.Team2.Name}}</a> {{match.Score2}}
                                            <br>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            
                        {% endfor %}
                        </table>
                    </div>
                
            {% endfor %}      
        </div>
        
    {% else %}
    <p> Les phases éliminatoire de ce tournoi ne sont pas générées</p>
    {% endif %}
    
    
    {% else %}
            
        <p>aucune poule n'est organisée dans ce tournoi</p>
    {% endif %}
{% endblock content %}


